/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => {
  // webpackBootstrap
  /******/ var __webpack_modules__ = {
    /***/ "./src/js/components/media-gallery.js":
      /*!********************************************!*\
  !*** ./src/js/components/media-gallery.js ***!
  \********************************************/
      /***/ () => {
        eval(
          "if (!customElements.get('media-gallery')) {\n  customElements.define(\n    'media-gallery',\n    class MediaGallery extends HTMLElement {\n      constructor() {\n        super();\n        this.elements = {\n          liveRegion: this.querySelector('[id^=\"GalleryStatus\"]'),\n          viewer: this.querySelector('[id^=\"GalleryViewer\"]'),\n          thumbnails: this.querySelector('[id^=\"GalleryThumbnails\"]'),\n        };\n        this.mql = window.matchMedia('(min-width: 750px)');\n        if (!this.elements.thumbnails) return;\n\n        this.elements.viewer.addEventListener('slideChanged', debounce(this.onSlideChanged.bind(this), 500));\n        this.elements.thumbnails.querySelectorAll('[data-target]').forEach((mediaToSwitch) => {\n          mediaToSwitch\n            .querySelector('button')\n            .addEventListener('click', this.setActiveMedia.bind(this, mediaToSwitch.dataset.target, false));\n        });\n        if (this.dataset.desktopLayout.includes('thumbnail') && this.mql.matches) this.removeListSemantic();\n      }\n\n      onSlideChanged(event) {\n        const thumbnail = this.elements.thumbnails.querySelector(\n          `[data-target=\"${event.detail.currentElement.dataset.mediaId}\"]`\n        );\n        this.setActiveThumbnail(thumbnail);\n      }\n\n      setActiveMedia(mediaId, prepend) {\n        const activeMedia = this.elements.viewer.querySelector(`[data-media-id=\"${mediaId}\"]`);\n        this.elements.viewer.querySelectorAll('[data-media-id]').forEach((element) => {\n          element.classList.remove('is-active');\n        });\n        activeMedia.classList.add('is-active');\n\n        if (prepend) {\n          activeMedia.parentElement.prepend(activeMedia);\n          if (this.elements.thumbnails) {\n            const activeThumbnail = this.elements.thumbnails.querySelector(`[data-target=\"${mediaId}\"]`);\n            activeThumbnail.parentElement.prepend(activeThumbnail);\n          }\n          if (this.elements.viewer.slider) this.elements.viewer.resetPages();\n        }\n\n        this.preventStickyHeader();\n        window.setTimeout(() => {\n          if (!this.mql.matches || this.elements.thumbnails) {\n            activeMedia.parentElement.scrollTo({ left: activeMedia.offsetLeft });\n          }\n          const activeMediaRect = activeMedia.getBoundingClientRect();\n          // Don't scroll if the image is already in view\n          if (activeMediaRect.top > -0.5) return;\n          const top = activeMediaRect.top + window.scrollY;\n          window.scrollTo({ top: top, behavior: 'smooth' });\n        });\n        this.playActiveMedia(activeMedia);\n\n        if (!this.elements.thumbnails) return;\n        const activeThumbnail = this.elements.thumbnails.querySelector(`[data-target=\"${mediaId}\"]`);\n        this.setActiveThumbnail(activeThumbnail);\n        this.announceLiveRegion(activeMedia, activeThumbnail.dataset.mediaPosition);\n      }\n\n      setActiveThumbnail(thumbnail) {\n        if (!this.elements.thumbnails || !thumbnail) return;\n\n        this.elements.thumbnails\n          .querySelectorAll('button')\n          .forEach((element) => element.removeAttribute('aria-current'));\n        thumbnail.querySelector('button').setAttribute('aria-current', true);\n        if (this.elements.thumbnails.isSlideVisible(thumbnail, 10)) return;\n\n        this.elements.thumbnails.slider.scrollTo({ left: thumbnail.offsetLeft });\n      }\n\n      announceLiveRegion(activeItem, position) {\n        const image = activeItem.querySelector('.product__modal-opener--image img');\n        if (!image) return;\n        image.onload = () => {\n          this.elements.liveRegion.setAttribute('aria-hidden', false);\n          this.elements.liveRegion.innerHTML = window.accessibilityStrings.imageAvailable.replace('[index]', position);\n          setTimeout(() => {\n            this.elements.liveRegion.setAttribute('aria-hidden', true);\n          }, 2000);\n        };\n        image.src = image.src;\n      }\n\n      playActiveMedia(activeItem) {\n        window.pauseAllMedia();\n        const deferredMedia = activeItem.querySelector('.deferred-media');\n        if (deferredMedia) deferredMedia.loadContent(false);\n      }\n\n      preventStickyHeader() {\n        this.stickyHeader = this.stickyHeader || document.querySelector('sticky-header');\n        if (!this.stickyHeader) return;\n        this.stickyHeader.dispatchEvent(new Event('preventHeaderReveal'));\n      }\n\n      removeListSemantic() {\n        if (!this.elements.viewer.slider) return;\n        this.elements.viewer.slider.setAttribute('role', 'presentation');\n        this.elements.viewer.sliderItems.forEach((slide) => slide.setAttribute('role', 'presentation'));\n      }\n    }\n  );\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvY29tcG9uZW50cy9tZWRpYS1nYWxsZXJ5LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWFybi13ZWJwYWNrLy4vc3JjL2pzL2NvbXBvbmVudHMvbWVkaWEtZ2FsbGVyeS5qcz84N2I3Il0sInNvdXJjZXNDb250ZW50IjpbImlmICghY3VzdG9tRWxlbWVudHMuZ2V0KCdtZWRpYS1nYWxsZXJ5JykpIHtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFxuICAgICdtZWRpYS1nYWxsZXJ5JyxcbiAgICBjbGFzcyBNZWRpYUdhbGxlcnkgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IHtcbiAgICAgICAgICBsaXZlUmVnaW9uOiB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tpZF49XCJHYWxsZXJ5U3RhdHVzXCJdJyksXG4gICAgICAgICAgdmlld2VyOiB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tpZF49XCJHYWxsZXJ5Vmlld2VyXCJdJyksXG4gICAgICAgICAgdGh1bWJuYWlsczogdGhpcy5xdWVyeVNlbGVjdG9yKCdbaWRePVwiR2FsbGVyeVRodW1ibmFpbHNcIl0nKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tcWwgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogNzUwcHgpJyk7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50cy50aHVtYm5haWxzKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5lbGVtZW50cy52aWV3ZXIuYWRkRXZlbnRMaXN0ZW5lcignc2xpZGVDaGFuZ2VkJywgZGVib3VuY2UodGhpcy5vblNsaWRlQ2hhbmdlZC5iaW5kKHRoaXMpLCA1MDApKTtcbiAgICAgICAgdGhpcy5lbGVtZW50cy50aHVtYm5haWxzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRhcmdldF0nKS5mb3JFYWNoKChtZWRpYVRvU3dpdGNoKSA9PiB7XG4gICAgICAgICAgbWVkaWFUb1N3aXRjaFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNldEFjdGl2ZU1lZGlhLmJpbmQodGhpcywgbWVkaWFUb1N3aXRjaC5kYXRhc2V0LnRhcmdldCwgZmFsc2UpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmRhdGFzZXQuZGVza3RvcExheW91dC5pbmNsdWRlcygndGh1bWJuYWlsJykgJiYgdGhpcy5tcWwubWF0Y2hlcykgdGhpcy5yZW1vdmVMaXN0U2VtYW50aWMoKTtcbiAgICAgIH1cblxuICAgICAgb25TbGlkZUNoYW5nZWQoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgdGh1bWJuYWlsID0gdGhpcy5lbGVtZW50cy50aHVtYm5haWxzLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYFtkYXRhLXRhcmdldD1cIiR7ZXZlbnQuZGV0YWlsLmN1cnJlbnRFbGVtZW50LmRhdGFzZXQubWVkaWFJZH1cIl1gXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVGh1bWJuYWlsKHRodW1ibmFpbCk7XG4gICAgICB9XG5cbiAgICAgIHNldEFjdGl2ZU1lZGlhKG1lZGlhSWQsIHByZXBlbmQpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlTWVkaWEgPSB0aGlzLmVsZW1lbnRzLnZpZXdlci5xdWVyeVNlbGVjdG9yKGBbZGF0YS1tZWRpYS1pZD1cIiR7bWVkaWFJZH1cIl1gKTtcbiAgICAgICAgdGhpcy5lbGVtZW50cy52aWV3ZXIucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbWVkaWEtaWRdJykuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBhY3RpdmVNZWRpYS5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcblxuICAgICAgICBpZiAocHJlcGVuZCkge1xuICAgICAgICAgIGFjdGl2ZU1lZGlhLnBhcmVudEVsZW1lbnQucHJlcGVuZChhY3RpdmVNZWRpYSk7XG4gICAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMudGh1bWJuYWlscykge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlVGh1bWJuYWlsID0gdGhpcy5lbGVtZW50cy50aHVtYm5haWxzLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhcmdldD1cIiR7bWVkaWFJZH1cIl1gKTtcbiAgICAgICAgICAgIGFjdGl2ZVRodW1ibmFpbC5wYXJlbnRFbGVtZW50LnByZXBlbmQoYWN0aXZlVGh1bWJuYWlsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMudmlld2VyLnNsaWRlcikgdGhpcy5lbGVtZW50cy52aWV3ZXIucmVzZXRQYWdlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcmV2ZW50U3RpY2t5SGVhZGVyKCk7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMubXFsLm1hdGNoZXMgfHwgdGhpcy5lbGVtZW50cy50aHVtYm5haWxzKSB7XG4gICAgICAgICAgICBhY3RpdmVNZWRpYS5wYXJlbnRFbGVtZW50LnNjcm9sbFRvKHsgbGVmdDogYWN0aXZlTWVkaWEub2Zmc2V0TGVmdCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgYWN0aXZlTWVkaWFSZWN0ID0gYWN0aXZlTWVkaWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgLy8gRG9uJ3Qgc2Nyb2xsIGlmIHRoZSBpbWFnZSBpcyBhbHJlYWR5IGluIHZpZXdcbiAgICAgICAgICBpZiAoYWN0aXZlTWVkaWFSZWN0LnRvcCA+IC0wLjUpIHJldHVybjtcbiAgICAgICAgICBjb25zdCB0b3AgPSBhY3RpdmVNZWRpYVJlY3QudG9wICsgd2luZG93LnNjcm9sbFk7XG4gICAgICAgICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiB0b3AsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGxheUFjdGl2ZU1lZGlhKGFjdGl2ZU1lZGlhKTtcblxuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudHMudGh1bWJuYWlscykgcmV0dXJuO1xuICAgICAgICBjb25zdCBhY3RpdmVUaHVtYm5haWwgPSB0aGlzLmVsZW1lbnRzLnRodW1ibmFpbHMucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFyZ2V0PVwiJHttZWRpYUlkfVwiXWApO1xuICAgICAgICB0aGlzLnNldEFjdGl2ZVRodW1ibmFpbChhY3RpdmVUaHVtYm5haWwpO1xuICAgICAgICB0aGlzLmFubm91bmNlTGl2ZVJlZ2lvbihhY3RpdmVNZWRpYSwgYWN0aXZlVGh1bWJuYWlsLmRhdGFzZXQubWVkaWFQb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHNldEFjdGl2ZVRodW1ibmFpbCh0aHVtYm5haWwpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnRzLnRodW1ibmFpbHMgfHwgIXRodW1ibmFpbCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudHMudGh1bWJuYWlsc1xuICAgICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKVxuICAgICAgICAgIC5mb3JFYWNoKChlbGVtZW50KSA9PiBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JykpO1xuICAgICAgICB0aHVtYm5haWwucXVlcnlTZWxlY3RvcignYnV0dG9uJykuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCB0cnVlKTtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMudGh1bWJuYWlscy5pc1NsaWRlVmlzaWJsZSh0aHVtYm5haWwsIDEwKSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudHMudGh1bWJuYWlscy5zbGlkZXIuc2Nyb2xsVG8oeyBsZWZ0OiB0aHVtYm5haWwub2Zmc2V0TGVmdCB9KTtcbiAgICAgIH1cblxuICAgICAgYW5ub3VuY2VMaXZlUmVnaW9uKGFjdGl2ZUl0ZW0sIHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IGltYWdlID0gYWN0aXZlSXRlbS5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9fbW9kYWwtb3BlbmVyLS1pbWFnZSBpbWcnKTtcbiAgICAgICAgaWYgKCFpbWFnZSkgcmV0dXJuO1xuICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50cy5saXZlUmVnaW9uLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCBmYWxzZSk7XG4gICAgICAgICAgdGhpcy5lbGVtZW50cy5saXZlUmVnaW9uLmlubmVySFRNTCA9IHdpbmRvdy5hY2Nlc3NpYmlsaXR5U3RyaW5ncy5pbWFnZUF2YWlsYWJsZS5yZXBsYWNlKCdbaW5kZXhdJywgcG9zaXRpb24pO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5saXZlUmVnaW9uLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0cnVlKTtcbiAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gaW1hZ2Uuc3JjO1xuICAgICAgfVxuXG4gICAgICBwbGF5QWN0aXZlTWVkaWEoYWN0aXZlSXRlbSkge1xuICAgICAgICB3aW5kb3cucGF1c2VBbGxNZWRpYSgpO1xuICAgICAgICBjb25zdCBkZWZlcnJlZE1lZGlhID0gYWN0aXZlSXRlbS5xdWVyeVNlbGVjdG9yKCcuZGVmZXJyZWQtbWVkaWEnKTtcbiAgICAgICAgaWYgKGRlZmVycmVkTWVkaWEpIGRlZmVycmVkTWVkaWEubG9hZENvbnRlbnQoZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBwcmV2ZW50U3RpY2t5SGVhZGVyKCkge1xuICAgICAgICB0aGlzLnN0aWNreUhlYWRlciA9IHRoaXMuc3RpY2t5SGVhZGVyIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N0aWNreS1oZWFkZXInKTtcbiAgICAgICAgaWYgKCF0aGlzLnN0aWNreUhlYWRlcikgcmV0dXJuO1xuICAgICAgICB0aGlzLnN0aWNreUhlYWRlci5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgncHJldmVudEhlYWRlclJldmVhbCcpKTtcbiAgICAgIH1cblxuICAgICAgcmVtb3ZlTGlzdFNlbWFudGljKCkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudHMudmlld2VyLnNsaWRlcikgcmV0dXJuO1xuICAgICAgICB0aGlzLmVsZW1lbnRzLnZpZXdlci5zbGlkZXIuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3ByZXNlbnRhdGlvbicpO1xuICAgICAgICB0aGlzLmVsZW1lbnRzLnZpZXdlci5zbGlkZXJJdGVtcy5mb3JFYWNoKChzbGlkZSkgPT4gc2xpZGUuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3ByZXNlbnRhdGlvbicpKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/components/media-gallery.js\n"
        );

        /***/
      },

    /******/
  };
  /************************************************************************/
  /******/
  /******/ // startup
  /******/ // Load entry module and return exports
  /******/ // This entry module can't be inlined because the eval-source-map devtool is used.
  /******/ var __webpack_exports__ = {};
  /******/ __webpack_modules__["./src/js/components/media-gallery.js"]();
  /******/
  /******/
})();
