/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => {
  // webpackBootstrap
  /******/ var __webpack_modules__ = {
    /***/ "./src/js/components/pickup-availability.js":
      /*!**************************************************!*\
  !*** ./src/js/components/pickup-availability.js ***!
  \**************************************************/
      /***/ () => {
        eval(
          "if (!customElements.get('pickup-availability')) {\n  customElements.define(\n    'pickup-availability',\n    class PickupAvailability extends HTMLElement {\n      constructor() {\n        super();\n\n        if (!this.hasAttribute('available')) return;\n\n        this.errorHtml = this.querySelector('template').content.firstElementChild.cloneNode(true);\n        this.onClickRefreshList = this.onClickRefreshList.bind(this);\n        this.fetchAvailability(this.dataset.variantId);\n      }\n\n      fetchAvailability(variantId) {\n        let rootUrl = this.dataset.rootUrl;\n        if (!rootUrl.endsWith('/')) {\n          rootUrl = rootUrl + '/';\n        }\n        const variantSectionUrl = `${rootUrl}variants/${variantId}/?section_id=pickup-availability`;\n\n        fetch(variantSectionUrl)\n          .then((response) => response.text())\n          .then((text) => {\n            const sectionInnerHTML = new DOMParser()\n              .parseFromString(text, 'text/html')\n              .querySelector('.shopify-section');\n            this.renderPreview(sectionInnerHTML);\n          })\n          .catch((e) => {\n            const button = this.querySelector('button');\n            if (button) button.removeEventListener('click', this.onClickRefreshList);\n            this.renderError();\n          });\n      }\n\n      onClickRefreshList(evt) {\n        this.fetchAvailability(this.dataset.variantId);\n      }\n\n      renderError() {\n        this.innerHTML = '';\n        this.appendChild(this.errorHtml);\n\n        this.querySelector('button').addEventListener('click', this.onClickRefreshList);\n      }\n\n      renderPreview(sectionInnerHTML) {\n        const drawer = document.querySelector('pickup-availability-drawer');\n        if (drawer) drawer.remove();\n        if (!sectionInnerHTML.querySelector('pickup-availability-preview')) {\n          this.innerHTML = '';\n          this.removeAttribute('available');\n          return;\n        }\n\n        this.innerHTML = sectionInnerHTML.querySelector('pickup-availability-preview').outerHTML;\n        this.setAttribute('available', '');\n\n        document.body.appendChild(sectionInnerHTML.querySelector('pickup-availability-drawer'));\n        const colorClassesToApply = this.dataset.productPageColorScheme.split(' ');\n        colorClassesToApply.forEach((colorClass) => {\n          document.querySelector('pickup-availability-drawer').classList.add(colorClass);\n        });\n\n        const button = this.querySelector('button');\n        if (button)\n          button.addEventListener('click', (evt) => {\n            document.querySelector('pickup-availability-drawer').show(evt.target);\n          });\n      }\n    }\n  );\n}\n\nif (!customElements.get('pickup-availability-drawer')) {\n  customElements.define(\n    'pickup-availability-drawer',\n    class PickupAvailabilityDrawer extends HTMLElement {\n      constructor() {\n        super();\n\n        this.onBodyClick = this.handleBodyClick.bind(this);\n\n        this.querySelector('button').addEventListener('click', () => {\n          this.hide();\n        });\n\n        this.addEventListener('keyup', (event) => {\n          if (event.code.toUpperCase() === 'ESCAPE') this.hide();\n        });\n      }\n\n      handleBodyClick(evt) {\n        const target = evt.target;\n        if (\n          target != this &&\n          !target.closest('pickup-availability-drawer') &&\n          target.id != 'ShowPickupAvailabilityDrawer'\n        ) {\n          this.hide();\n        }\n      }\n\n      hide() {\n        this.removeAttribute('open');\n        document.body.removeEventListener('click', this.onBodyClick);\n        document.body.classList.remove('overflow-hidden');\n        removeTrapFocus(this.focusElement);\n      }\n\n      show(focusElement) {\n        this.focusElement = focusElement;\n        this.setAttribute('open', '');\n        document.body.addEventListener('click', this.onBodyClick);\n        document.body.classList.add('overflow-hidden');\n        trapFocus(this);\n      }\n    }\n  );\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvY29tcG9uZW50cy9waWNrdXAtYXZhaWxhYmlsaXR5LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVhcm4td2VicGFjay8uL3NyYy9qcy9jb21wb25lbnRzL3BpY2t1cC1hdmFpbGFiaWxpdHkuanM/YjNmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpZiAoIWN1c3RvbUVsZW1lbnRzLmdldCgncGlja3VwLWF2YWlsYWJpbGl0eScpKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcbiAgICAncGlja3VwLWF2YWlsYWJpbGl0eScsXG4gICAgY2xhc3MgUGlja3VwQXZhaWxhYmlsaXR5IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmhhc0F0dHJpYnV0ZSgnYXZhaWxhYmxlJykpIHJldHVybjtcblxuICAgICAgICB0aGlzLmVycm9ySHRtbCA9IHRoaXMucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKS5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgdGhpcy5vbkNsaWNrUmVmcmVzaExpc3QgPSB0aGlzLm9uQ2xpY2tSZWZyZXNoTGlzdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmZldGNoQXZhaWxhYmlsaXR5KHRoaXMuZGF0YXNldC52YXJpYW50SWQpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaEF2YWlsYWJpbGl0eSh2YXJpYW50SWQpIHtcbiAgICAgICAgbGV0IHJvb3RVcmwgPSB0aGlzLmRhdGFzZXQucm9vdFVybDtcbiAgICAgICAgaWYgKCFyb290VXJsLmVuZHNXaXRoKCcvJykpIHtcbiAgICAgICAgICByb290VXJsID0gcm9vdFVybCArICcvJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YXJpYW50U2VjdGlvblVybCA9IGAke3Jvb3RVcmx9dmFyaWFudHMvJHt2YXJpYW50SWR9Lz9zZWN0aW9uX2lkPXBpY2t1cC1hdmFpbGFiaWxpdHlgO1xuXG4gICAgICAgIGZldGNoKHZhcmlhbnRTZWN0aW9uVXJsKVxuICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UudGV4dCgpKVxuICAgICAgICAgIC50aGVuKCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uSW5uZXJIVE1MID0gbmV3IERPTVBhcnNlcigpXG4gICAgICAgICAgICAgIC5wYXJzZUZyb21TdHJpbmcodGV4dCwgJ3RleHQvaHRtbCcpXG4gICAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuc2hvcGlmeS1zZWN0aW9uJyk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclByZXZpZXcoc2VjdGlvbklubmVySFRNTCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMucXVlcnlTZWxlY3RvcignYnV0dG9uJyk7XG4gICAgICAgICAgICBpZiAoYnV0dG9uKSBidXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2tSZWZyZXNoTGlzdCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckVycm9yKCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIG9uQ2xpY2tSZWZyZXNoTGlzdChldnQpIHtcbiAgICAgICAgdGhpcy5mZXRjaEF2YWlsYWJpbGl0eSh0aGlzLmRhdGFzZXQudmFyaWFudElkKTtcbiAgICAgIH1cblxuICAgICAgcmVuZGVyRXJyb3IoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy5lcnJvckh0bWwpO1xuXG4gICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcignYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2tSZWZyZXNoTGlzdCk7XG4gICAgICB9XG5cbiAgICAgIHJlbmRlclByZXZpZXcoc2VjdGlvbklubmVySFRNTCkge1xuICAgICAgICBjb25zdCBkcmF3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdwaWNrdXAtYXZhaWxhYmlsaXR5LWRyYXdlcicpO1xuICAgICAgICBpZiAoZHJhd2VyKSBkcmF3ZXIucmVtb3ZlKCk7XG4gICAgICAgIGlmICghc2VjdGlvbklubmVySFRNTC5xdWVyeVNlbGVjdG9yKCdwaWNrdXAtYXZhaWxhYmlsaXR5LXByZXZpZXcnKSkge1xuICAgICAgICAgIHRoaXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoJ2F2YWlsYWJsZScpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gc2VjdGlvbklubmVySFRNTC5xdWVyeVNlbGVjdG9yKCdwaWNrdXAtYXZhaWxhYmlsaXR5LXByZXZpZXcnKS5vdXRlckhUTUw7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhdmFpbGFibGUnLCAnJyk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzZWN0aW9uSW5uZXJIVE1MLnF1ZXJ5U2VsZWN0b3IoJ3BpY2t1cC1hdmFpbGFiaWxpdHktZHJhd2VyJykpO1xuICAgICAgICBjb25zdCBjb2xvckNsYXNzZXNUb0FwcGx5ID0gdGhpcy5kYXRhc2V0LnByb2R1Y3RQYWdlQ29sb3JTY2hlbWUuc3BsaXQoJyAnKTtcbiAgICAgICAgY29sb3JDbGFzc2VzVG9BcHBseS5mb3JFYWNoKChjb2xvckNsYXNzKSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigncGlja3VwLWF2YWlsYWJpbGl0eS1kcmF3ZXInKS5jbGFzc0xpc3QuYWRkKGNvbG9yQ2xhc3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpO1xuICAgICAgICBpZiAoYnV0dG9uKVxuICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3BpY2t1cC1hdmFpbGFiaWxpdHktZHJhd2VyJykuc2hvdyhldnQudGFyZ2V0KTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5cbmlmICghY3VzdG9tRWxlbWVudHMuZ2V0KCdwaWNrdXAtYXZhaWxhYmlsaXR5LWRyYXdlcicpKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcbiAgICAncGlja3VwLWF2YWlsYWJpbGl0eS1kcmF3ZXInLFxuICAgIGNsYXNzIFBpY2t1cEF2YWlsYWJpbGl0eURyYXdlciBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMub25Cb2R5Q2xpY2sgPSB0aGlzLmhhbmRsZUJvZHlDbGljay5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcignYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQuY29kZS50b1VwcGVyQ2FzZSgpID09PSAnRVNDQVBFJykgdGhpcy5oaWRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBoYW5kbGVCb2R5Q2xpY2soZXZ0KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQ7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0YXJnZXQgIT0gdGhpcyAmJlxuICAgICAgICAgICF0YXJnZXQuY2xvc2VzdCgncGlja3VwLWF2YWlsYWJpbGl0eS1kcmF3ZXInKSAmJlxuICAgICAgICAgIHRhcmdldC5pZCAhPSAnU2hvd1BpY2t1cEF2YWlsYWJpbGl0eURyYXdlcidcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaGlkZSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25Cb2R5Q2xpY2spO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgICAgICByZW1vdmVUcmFwRm9jdXModGhpcy5mb2N1c0VsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICBzaG93KGZvY3VzRWxlbWVudCkge1xuICAgICAgICB0aGlzLmZvY3VzRWxlbWVudCA9IGZvY3VzRWxlbWVudDtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ29wZW4nLCAnJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQm9keUNsaWNrKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgICAgdHJhcEZvY3VzKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/components/pickup-availability.js\n"
        );

        /***/
      },

    /******/
  };
  /************************************************************************/
  /******/
  /******/ // startup
  /******/ // Load entry module and return exports
  /******/ // This entry module can't be inlined because the eval-source-map devtool is used.
  /******/ var __webpack_exports__ = {};
  /******/ __webpack_modules__["./src/js/components/pickup-availability.js"]();
  /******/
  /******/
})();
